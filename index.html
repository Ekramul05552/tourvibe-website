<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4SHDYH4FT7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4SHDYH4FT7');
</script>
  <!-- Website Title -->
  <title>TourVibe | Explore Bangladesh</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="tourvibe-favicon.png">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Your CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Your CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- SweetAlert2 (load before we call Swal) -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="index.html">
        <img src="assets/logo.png" alt="TourVibe Logo" style="height: 50px; margin-right: 10px;">
        <span style="font-weight: bold; font-size: 1.4rem;">
          <span style="color: rgb(8, 69, 112);">Tour</span><span style="color: rgb(242, 129, 6);">Vibe</span>
        </span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">рж╣рзЛржо</a></li>
        <li class="nav-item"><a class="nav-link" href="packages.html">ржкрзНржпрж╛ржХрзЗржЬрж╕ржорзВрж╣</a></li>
        <li class="nav-item"><a class="nav-link" href="#booking">ржмрзБржХрж┐ржВ</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">ржпрзЛржЧрж╛ржпрзЛржЧ</a></li>
      </ul>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="bg-success text-white text-center py-5">
    <div class="container">
      
      <a href="packages.html" class="btn btn-light btn-lg mt-3">ржкрзНржпрж╛ржХрзЗржЬ ржжрзЗржЦрзБржи</a>
    </div>
  </header>

  <!-- Booking -->
  <section id="booking" class="py-5">
    <div class="container">
      <h2 class="text-center mb-4">ЁЯУМ ржПржЦржиржЗ ржмрзБржХрж┐ржВ ржХрж░рзБржи</h2>

      <div class="alert alert-info text-center mb-4">
        <strong>ржкрзЗржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп:</strong> Bkash ржирж╛ржорзНржмрж╛рж░: <strong>01990723902</strong> (Send Money)
      </div>

      <form id="bookingForm" class="p-4 border rounded bg-light" autocomplete="off">
        <div class="mb-3">
          <label for="packageName" class="form-label">ржкрзНржпрж╛ржХрзЗржЬрзЗрж░ ржирж╛ржо</label>
          <select id="packageName" name="package" class="form-control" required>
            <option value="">ржкрзНржпрж╛ржХрзЗржЬ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
            <option value="ЁЯФе рж╕ржмржЪрзЗржпрж╝рзЗ ржХржо ржЦрж░ржЪрзЗ рж╕рж┐рж▓рзЗржЯ ржнрзНрж░ржоржг ЁЯФе">ЁЯФе рж╕ржмржЪрзЗржпрж╝рзЗ ржХржо ржЦрж░ржЪрзЗ рж╕рж┐рж▓рзЗржЯ ржнрзНрж░ржоржг ЁЯФе</option>
            <option value="ЁЯФе ржмрж╛ржирзНржжрж░ржмрж╛ржи + ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ ржнрзНрж░ржоржг ЁЯФе">ЁЯФе ржмрж╛ржирзНржжрж░ржмрж╛ржи + ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ ржнрзНрж░ржоржг ЁЯФе</option>
            <option value="ЁЯФе ржорж┐рж░рж┐ржЮрзНржЬрж╛ ржнрзНржпрж╛рж▓рж┐ + ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ ЁЯФе">ЁЯФе ржорж┐рж░рж┐ржЮрзНржЬрж╛ ржнрзНржпрж╛рж▓рж┐ + ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ ЁЯФе</option>
            <option value="ЁЯФе ржЯрж╛ржВржЧрзБржпрж╝рж╛ рж╣рж╛ржУрж░ ржбрзЗ ржЯрзНржпрзБрж░ (рж╕рж┐ржЬржирж╛рж▓) ЁЯФе">ЁЯФе ржЯрж╛ржВржЧрзБржпрж╝рж╛ рж╣рж╛ржУрж░ ржбрзЗ ржЯрзНржпрзБрж░ (рж╕рж┐ржЬржирж╛рж▓) ЁЯФе</option>
            <option value="ЁЯФержХрж╛ржЮрзНржЪржиржЬржЩрзНржШрж╛ЁЯФе">ЁЯФержХрж╛ржЮрзНржЪржиржЬржЩрзНржШрж╛ЁЯФе</option>
            <option value="ЁЯФерж╕рзБржирзНржжрж░ржмржи ржХрж░ржоржЬрж▓ ржУ ржмрж╛ржЧрзЗрж░рж╣рж╛ржЯрзЗрж░ рж╖рж╛ржЯ ржЧржорзНржмрзБржЬ ржорж╕ржЬрж┐ржж ржнрзНрж░ржоржгЁЯФе">ЁЯФерж╕рзБржирзНржжрж░ржмржи ржХрж░ржоржЬрж▓ ржУ ржмрж╛ржЧрзЗрж░рж╣рж╛ржЯрзЗрж░ рж╖рж╛ржЯ ржЧржорзНржмрзБржЬ ржорж╕ржЬрж┐ржж ржнрзНрж░ржоржгЁЯФе</option>
            <option value="ЁЯФе ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ тАУ рж╣рж┐ржоржЫржбрж╝рж┐ тАУ рж▓рж╛ржмржирзА ржкржпрж╝рзЗржирзНржЯ ржЯрзНржпрзБрж░ ЁЯФе">ЁЯФе ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ тАУ рж╣рж┐ржоржЫржбрж╝рж┐ тАУ рж▓рж╛ржмржирзА ржкржпрж╝рзЗржирзНржЯ ржЯрзНржпрзБрж░ ЁЯФе</option>
            <option value="ЁЯФе ржирж┐ржХрж▓рзА рж╣рж╛ржУрж░ ржнрзНрж░ржоржг ЁЯФе">ЁЯФе ржирж┐ржХрж▓рзА рж╣рж╛ржУрж░ ржнрзНрж░ржоржг ЁЯФе</option>
            <option value="ЁЯФе ржмрж░рж┐рж╢рж╛рж▓ ржнрж╛рж╕ржорж╛ржи ржкрзЗржпрж╝рж╛рж░рж╛ ржмрж╛ржЬрж╛рж░ + ржнрж╛рж╕ржорж╛ржи ржкрж╛рж░рзНржХ + ржЧрзБржарж┐ржпрж╝рж╛ ржорж╕ржЬрж┐ржж ЁЯФе">ЁЯФе ржмрж░рж┐рж╢рж╛рж▓ ржнрж╛рж╕ржорж╛ржи ржкрзЗржпрж╝рж╛рж░рж╛ ржмрж╛ржЬрж╛рж░ + ржнрж╛рж╕ржорж╛ржи ржкрж╛рж░рзНржХ + ржЧрзБржарж┐ржпрж╝рж╛ ржорж╕ржЬрж┐ржж ЁЯФе</option>
            <option value="ЁЯФе рж░рж╛ржЩрж╛ржорж╛ржЯрж┐ ржЭрж░рзНржирж╛ ржнрзНрж░ржоржг ЁЯФе">ЁЯФе рж░рж╛ржЩрж╛ржорж╛ржЯрж┐ ржЭрж░рзНржирж╛ ржнрзНрж░ржоржг ЁЯФе</option>
            <option value="ЁЯФе рж╕рж┐рж▓рзЗржЯрзЗрж░ ржЬржиржкрзНрж░рж┐ржпрж╝ рж╕рзНржкржЯрж╕ ржнрзНрж░ржоржг ЁЯФе">ЁЯФе рж╕рж┐рж▓рзЗржЯрзЗрж░ ржЬржиржкрзНрж░рж┐ржпрж╝ рж╕рзНржкржЯрж╕ ржнрзНрж░ржоржг ЁЯФе</option>
            <option value="ЁЯФе ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ ржУ рж╣рж┐ржоржЫрж░рж┐ ржбрзЗ ржЯрзНржпрзБрж░ ЁЯФе">ЁЯФе ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░ ржУ рж╣рж┐ржоржЫрж░рж┐ ржбрзЗ ржЯрзНржпрзБрж░ ЁЯФе</option>
            <option value="ЁЯМ┤ржмрж╛ржирзНржжрж░ржмрж╛ржи рж░рж┐рж▓рж╛ржХрзНрж╕ ржЯрзНржпрзБрж░ЁЯМ┤">ЁЯМ┤ржмрж╛ржирзНржжрж░ржмрж╛ржи рж░рж┐рж▓рж╛ржХрзНрж╕ ржЯрзНржпрзБрж░ЁЯМ┤</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="couponCode" class="form-label">ржХрзБржкржи ржХрзЛржб</label>
          <input type="text" id="couponCode" name="couponCode" class="form-control" placeholder="ржХрзБржкржи ржХрзЛржб рж▓рж┐ржЦрзБржи (ржпржжрж┐ ржерж╛ржХрзЗ)">
          <div id="couponFeedback" class="form-text text-danger"></div>
        </div>

        <div class="mb-3">
          <label for="fullName" class="form-label">ржкрзВрж░рзНржг ржирж╛ржо</label>
          <input type="text" id="fullName" name="name" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="phone" class="form-label">ржлрзЛржи ржирж╛ржорзНржмрж╛рж░</label>
          <input type="tel" id="phone" name="phone" class="form-control" placeholder="01XXXXXXXXX" required pattern="[0-9]{11}">
        </div>

        <div class="mb-3">
          <label for="persons" class="form-label">ржХрждржЬржи ржнрзНрж░ржоржг ржХрж░ржмрзЗржи</label>
          <input type="number" id="persons" name="persons" class="form-control" min="1" required>
        </div>

        <div class="mb-3">
          <label for="bkashTxnId" class="form-label">Bkash Transaction ID</label>
          <input type="text" id="bkashTxnId" name="bkashTxnId" class="form-control" placeholder="Bkash Transaction ID рж▓рж┐ржЦрзБржи" required>
        </div>

        <div class="mb-3">
          <label for="bkashLast4" class="form-label">Bkash ржирж╛ржорзНржмрж╛рж░рзЗрж░ рж╢рзЗрж╖ рзк ржбрж┐ржЬрж┐ржЯ</label>
          <input type="text" id="bkashLast4" name="bkashLast4" class="form-control" placeholder="Bkash ржирж╛ржорзНржмрж╛рж░рзЗрж░ рж╢рзЗрж╖ рзк ржбрж┐ржЬрж┐ржЯ рж▓рж┐ржЦрзБржи" required pattern="[0-9]{4}">
        </div>

        <button type="submit" id="submitBtn" class="btn btn-success w-100">
          тЬЕ ржмрзБржХрж┐ржВ ржХржиржлрж╛рж░рзНржо ржХрж░рзБржи
        </button>
      </form>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="py-5 bg-dark text-white text-center">
    <div class="container">
      <h2>ЁЯУЮ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи</h2>
      <p>ржЗржХрж░рж╛ржорзБрж▓ ржЗрж╕рж▓рж╛ржо (TourVibe)</p>
      <p>ЁЯУ▓ <strong>01990723902</strong> (WhatsApp + Bkash)</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-white text-center py-3 bg-success">
    <p class="mb-0">┬й 2025 TourVibe тАУ All Rights Reserved</p>
  </footer>

  <!-- Dark Mode Toggle -->
  <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <button id="themeToggle" class="btn btn-light rounded-circle shadow">ЁЯМЩ</button>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Main JS: Submit handler, autofill, dark-mode, spinner + SweetAlert2 -->
  <script>
  (function(){
    // CONFIG: replace with your deployed Apps Script Web App URL
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbx3_mUk0vWDw0HgVxhqX5mI6FUL4r5kLoLC1Rk1BQeiTOun5RFosIQY5Qh794ncDFU0/exec";

    // Elements
    const form = document.getElementById("bookingForm");
    const submitBtn = document.getElementById("submitBtn");
    const pkgField = document.getElementById("packageName");

    // 1) Auto-fill package from localStorage (if user came from packages.html)
    document.addEventListener("DOMContentLoaded", () => {
      try {
        const saved = localStorage.getItem("selectedPackage");
        if (saved) {
          pkgField.value = saved;
          localStorage.removeItem("selectedPackage");
        }
      } catch (err) {
        console.warn("localStorage error:", err);
      }
    });

    // Helper to set button to loading state
    function setLoading() {
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>ржкрзНрж░рж╕рзЗрж╕ рж╣ржЪрзНржЫрзЗ...';
    }
    function setIdle() {
      // Re-enable button and reset text if needed
      submitBtn.disabled = false;
      submitBtn.innerHTML = 'тЬЕ ржмрзБржХрж┐ржВ ржХржиржлрж╛рж░рзНржо ржХрж░рзБржи';
    }

    // 2) Form submit handler (async/await for clarity)
    form.addEventListener("submit", async function(e) {
      e.preventDefault();

      // Basic client-side validation for phone (ensure 11 digits starting with 0)
      const phone = (document.getElementById("phone").value || "").trim();
      if (!/^[0][0-9]{10}$/.test(phone)) {
        Swal.fire({
          icon: "warning",
          title: "ржнрзБрж▓ ржлрзЛржи ржирж╛ржорзНржмрж╛рж░",
          text: "ржлрзЛржи ржирж╛ржорзНржмрж╛рж░ рж╕ржарж┐ржХ ржирзЯ тАФ ржЙржжрж╛рж╣рж░ржг: 01XXXXXXXXX",
          confirmButtonColor: "#f77e01"
        });
        return;
      }

      // Prepare form data
      const formData = new FormData(form);

      try {
        setLoading();

        const resp = await fetch(WEB_APP_URL, {
          method: "POST",
          body: formData,
          mode: "cors",
          credentials: "omit"
        });

        const text = await resp.text();

        if (!resp.ok) {
          // If Apps Script returned error message, show it
          throw new Error(text || `Server returned ${resp.status}`);
        }

        // Success popup then redirect
        await Swal.fire({
          icon: "success",
          title: "тЬЕ ржмрзБржХрж┐ржВ рж╕ржлрж▓ рж╣ржпрж╝рзЗржЫрзЗ!",
          text: "ржЖржорж╛ржжрзЗрж░ ржЯрж┐ржо рж╢рзАржШрзНрж░ржЗ ржЖржкржирж╛рж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░ржмрзЗред",
          confirmButtonText: "ржарж┐ржХ ржЖржЫрзЗ",
          confirmButtonColor: "#28a745"
        });

        // redirect
        window.location.href = "thankyou.html";

      } catch (err) {
        // Show friendly error
        console.error("Booking error:", err);
        await Swal.fire({
          icon: "error",
          title: "ржжрзБржГржЦрж┐ржд тАФ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ",
          text: (err && err.message) ? err.message : "рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж╕ржВржпрзЛржЧ ржХрж░рж╛ ржпрж╛ржпрж╝ржирж┐ред ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред",
          confirmButtonText: "ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи",
          confirmButtonColor: "#dc3545"
        });

        setIdle();
      }
    });

    // 3) Dark mode toggle (persistent)
    const toggleBtn = document.getElementById("themeToggle");
    const body = document.body;
    if (localStorage.getItem("theme") === "dark") {
      body.classList.add("dark-mode");
      toggleBtn.textContent = "тШАя╕П";
    } else {
      body.classList.add("light-mode");
    }
    toggleBtn.addEventListener("click", () => {
      body.classList.toggle("dark-mode");
      body.classList.toggle("light-mode");
      if (body.classList.contains("dark-mode")) {
        toggleBtn.textContent = "тШАя╕П";
        localStorage.setItem("theme", "dark");
      } else {
        toggleBtn.textContent = "ЁЯМЩ";
        localStorage.setItem("theme", "light");
      }
    });

  })();
  </script>
</body>
</html>





